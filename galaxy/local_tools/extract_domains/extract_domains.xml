<?xml version="1.0"?>
<tool id="extract_domains" name="ExtractNRPSDomains" version="0.01">
  <description>Extract NRPS domains from antiSMASH report</description>
  <requirements>
    <requirement type="package" version="3.6">python</requirement>
  </requirements>

  <command detect_errors="exit_code"><![CDATA[
  python $__tool_directory__/extract_domains.py --geneclusters "$antismash_geneclusters_json" --a_fasta "$a_fasta" --ce_fasta "$ce_fasta"
  ]]></command>
  <inputs>
    <param name="antismash_geneclusters_json" format="json" type="data" label="antiSMASH geneclusters JSON report" />
  </inputs>

  <outputs>
      <data name="a_fasta" format="fasta" label="${tool.name} FASTA A domains on ${on_string}" />
      <data name="ce_fasta" format="fasta" label="${tool.name} FASTA C-E domains on ${on_string}" />
  </outputs>

  <tests>
    <test>
      <param name="antismash_geneclusters_json" value="geneclusters.json"/>
      <output name="a_fasta" file="a_domains.fa" compare="diff"/>
      <output name="ce_fasta" file="ce_domains.fa" compare="diff"/>
    </test>
  </tests>

  <help><![CDATA[
  This tool takes a geneclusters JSON file (generated by antiSMASH) and will output these domains as two seperated FASTA files -- A domains FASTA & C/E domains FASTA.
  ]]></help>
  <citations>
  </citations>

</tool>
